<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <style>
        #box span {
            display: inline-block;
            background-image: url("./img2/star.gif");
            width: 27px;
            height: 28px;
            background-position: 0px 0px;
        }
    </style>
</head>

<body>
    <div id="box">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <b>0</b>
    </div>

    <script>
        let spanDoms = document.querySelectorAll("span");
        let score = 0;

        // 以指定的分界点进行分割。前面的变黄，后面的变灰
        function changeStar(index) {
            for (let j = 0; j < index; j++) {
                spanDoms[j].style.backgroundPosition = "0px -28px"
            }
            for (let j = index; j < spanDoms.length; j++) {
                spanDoms[j].style.backgroundPosition = "0px 0px"
            }
        }

        for (let i = 0; i < spanDoms.length; i++) {

            // 1、鼠标进入变成黄色
            spanDoms[i].onmouseenter = function () {
                // 以成绩和进入的星星的下标的最大值为分界线，前面的变黄，后面的变灰
                let index = score > (i + 1) ? score : (i + 1);
                changeStar(index);
            }

            // 2、鼠标离开变成灰色
            spanDoms[i].onmouseleave = function () {
                // 以成绩为分界线，前面的变黄，后面的变灰
                changeStar(score);
            }

            // 3、鼠标点击
            spanDoms[i].onclick = function () {
                score = i + 1;
                document.querySelector("b").innerHTML = score;
                changeStar(score);
            }

        }







    </script>
</body>

</html>